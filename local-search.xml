<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>æ”¯ä»˜å®å°ç¨‹åº | è·å–ç½‘ç»œçŠ¶æ€</title>
    <link href="/alipay-mini-program-getnetwork/"/>
    <url>/alipay-mini-program-getnetwork/</url>
    
    <content type="html"><![CDATA[<p>å‚è€ƒæ–‡æ¡£ï¼š</p><ul><li><a href="https://opendocs.alipay.com/open/025653">https://opendocs.alipay.com/open/025653</a></li><li><a href="https://opendocs.alipay.com/mini/api/network-status">https://opendocs.alipay.com/mini/api/network-status</a></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * è·å–ç½‘ç»œçŠ¶æ€</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span> <span class="hljs-variable">networkAvailable</span></span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span> <span class="hljs-variable">networkType</span></span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">getNetworkType</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">const</span> &#123; networkAvailable, networkType &#125; = <span class="hljs-keyword">await</span> my.<span class="hljs-title function_">getNetworkType</span>();<br>  <span class="hljs-keyword">return</span> &#123;<br>    networkAvailable,<br>    networkType,<br>  &#125;;<br>&#125;;<br></code></pre></td></tr></table></figure><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ebe2ba32a3c449019f9442d0a194942a~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p><h1 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">async</span> <span class="hljs-title function_">onPullDownRefresh</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-comment">//ä½¿ç”¨å°è£…çš„æ–¹æ³•</span><br>  <span class="hljs-keyword">const</span> &#123; networkAvailable &#125; = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getNetworkType</span>()<br>  <span class="hljs-comment">//æˆ–è€…ç›´æ¥ä½¿ç”¨api</span><br>  <span class="hljs-comment">//const &#123; networkAvailable, networkType &#125; = await my.getNetworkType()</span><br>  <span class="hljs-keyword">if</span> (networkAvailable) &#123;<br>    <span class="hljs-comment">//TODOç½‘ç»œå¯ç”¨</span><br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>    my.<span class="hljs-title function_">showToast</span>(&#123;<br>      <span class="hljs-attr">content</span>: <span class="hljs-string">&#x27;å½“å‰ç½‘ç»œä¸å¯ç”¨ï¼Œè¯·æ£€æŸ¥ç½‘ç»œ&#x27;</span>,<br>    &#125;)<br>  &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æ”¯ä»˜å®å°ç¨‹åº</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ”¯ä»˜å®å°ç¨‹åº | ä¸‹æ‹‰åˆ·æ–°ã€è‡ªåŠ¨åˆ·æ–°ã€ä¸Šæ‹‰åŠ è½½</title>
    <link href="/alipay-mini-program-refresh%E3%80%81load/"/>
    <url>/alipay-mini-program-refresh%E3%80%81load/</url>
    
    <content type="html"><![CDATA[<h1 id="ä¸‹æ‹‰åˆ·æ–°"><a href="#ä¸‹æ‹‰åˆ·æ–°" class="headerlink" title="ä¸‹æ‹‰åˆ·æ–°"></a>ä¸‹æ‹‰åˆ·æ–°</h1><h2 id="ï¼ˆä¸€ï¼‰onPullDownRefreshæ–¹æ³•"><a href="#ï¼ˆä¸€ï¼‰onPullDownRefreshæ–¹æ³•" class="headerlink" title="ï¼ˆä¸€ï¼‰onPullDownRefreshæ–¹æ³•"></a>ï¼ˆä¸€ï¼‰onPullDownRefreshæ–¹æ³•</h2><p>æ¨¡æ‹Ÿå™¨æ•ˆæœå±•ç¤º</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1c554de3eacb4893b8731ff2d95beaeb~tplv-k3u1fbpfcp-watermark.image" alt="demo.gif"></p><p>å®ç°å¦‚ä¸‹</p><h3 id="1ã€é…ç½®ä¸‹æ‹‰é€‰é¡¹"><a href="#1ã€é…ç½®ä¸‹æ‹‰é€‰é¡¹" class="headerlink" title="1ã€é…ç½®ä¸‹æ‹‰é€‰é¡¹"></a>1ã€é…ç½®ä¸‹æ‹‰é€‰é¡¹</h3><p><code>demo.json</code></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;pullRefresh&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h3 id="2ã€å®šä¹‰ä¸‹æ‹‰æ–¹æ³•"><a href="#2ã€å®šä¹‰ä¸‹æ‹‰æ–¹æ³•" class="headerlink" title="2ã€å®šä¹‰ä¸‹æ‹‰æ–¹æ³•"></a>2ã€å®šä¹‰ä¸‹æ‹‰æ–¹æ³•</h3><p><code>demo.js</code></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">onPullDownRefresh</span><span class="hljs-params">()</span></span> &#123;<br>  <span class="hljs-comment">//åšç›¸åº”çš„é€»è¾‘å¤„ç†</span><br>&#125;,<br></code></pre></td></tr></table></figure><h3 id="3ã€åœæ­¢ä¸‹æ‹‰"><a href="#3ã€åœæ­¢ä¸‹æ‹‰" class="headerlink" title="3ã€åœæ­¢ä¸‹æ‹‰"></a>3ã€åœæ­¢ä¸‹æ‹‰</h3><p>åœ¨åŠ è½½å®Œæ•°æ®ååœæ­¢ä¸‹æ‹‰</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs applescript"><span class="hljs-keyword">my</span>.stopPullDownRefresh()<br></code></pre></td></tr></table></figure><p>å¦‚ä¸Šæ¡ˆä¾‹å®Œæ•´ä»£ç å¦‚ä¸‹</p><p><code>demo.axml</code></p><figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs handlebars"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;demo&quot;</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">a:if</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">list.length</span> == <span class="hljs-number">0</span> ? <span class="hljs-literal">true</span>: <span class="hljs-literal">false</span> &#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span>æ²¡æ•°æ®ï¼Ÿè¯•è¯•ä¸‹æ‹‰åˆ·æ–°ğŸ˜†<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">a:for</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">list</span> &#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span></span><br><span class="language-xml">    </span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">item.name</span>&#125;&#125;</span><span class="language-xml"></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p><code>demo.less</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.demo</span>&#123;<br>    <span class="hljs-attribute">display</span>: flex;<br>    <span class="hljs-attribute">flex-direction</span>: column;<br>    <span class="hljs-attribute">justify-content</span>: center;<br>    <span class="hljs-attribute">align-items</span>: center;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><code>demo.json</code></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;usingComponents&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;styleIsolation&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;apply-shared&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;pullRefresh&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p><code>demo.ts</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">Page</span>(&#123;<br>  <span class="hljs-attr">data</span>: &#123;<br>    <span class="hljs-attr">list</span>: [],<br>  &#125;,<br>  <span class="hljs-title function_">onLoad</span>(<span class="hljs-params"></span>) &#123;&#125;,<br>  <span class="hljs-title function_">onPullDownRefresh</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getList</span>()<br>  &#125;,<br>  <span class="hljs-title function_">getList</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>&#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>(&#123;<br>        <span class="hljs-attr">list</span>: [<br>          &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;èºè›³ç²‰&#x27;</span>, <span class="hljs-attr">value</span>: <span class="hljs-number">1</span> &#125;,<br>          &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;é…¸è¾£ç²‰&#x27;</span>, <span class="hljs-attr">value</span>: <span class="hljs-number">2</span> &#125;,<br>          &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;ç¾Šè‚‰ç²‰&#x27;</span>, <span class="hljs-attr">value</span>: <span class="hljs-number">3</span> &#125;,<br>        ],<br>      &#125;)<br>      my.<span class="hljs-title function_">stopPullDownRefresh</span>()<br>    &#125;,<span class="hljs-number">1000</span>)<br>  &#125;,<br>&#125;)<br></code></pre></td></tr></table></figure><h2 id="ï¼ˆäºŒï¼‰è‡ªå®šä¹‰ä¸‹æ‹‰åˆ·æ–°"><a href="#ï¼ˆäºŒï¼‰è‡ªå®šä¹‰ä¸‹æ‹‰åˆ·æ–°" class="headerlink" title="ï¼ˆäºŒï¼‰è‡ªå®šä¹‰ä¸‹æ‹‰åˆ·æ–°"></a>ï¼ˆäºŒï¼‰è‡ªå®šä¹‰ä¸‹æ‹‰åˆ·æ–°</h2><p>å‚è€ƒæ–‡æ¡£ï¼š<a href="https://blog.csdn.net/qq_42345108/article/details/124321126">https://blog.csdn.net/qq_42345108/article/details/124321126</a></p><h1 id="è‡ªåŠ¨åˆ·æ–°"><a href="#è‡ªåŠ¨åˆ·æ–°" class="headerlink" title="è‡ªåŠ¨åˆ·æ–°"></a>è‡ªåŠ¨åˆ·æ–°</h1><h2 id="ï¼ˆä¸€ï¼‰my-startPullDownRefresh-æ–¹æ³•"><a href="#ï¼ˆä¸€ï¼‰my-startPullDownRefresh-æ–¹æ³•" class="headerlink" title="ï¼ˆä¸€ï¼‰my.startPullDownRefresh() æ–¹æ³•"></a>ï¼ˆä¸€ï¼‰my.startPullDownRefresh() æ–¹æ³•</h2><p>æ•ˆæœ</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e882447ccb3b451690c83838b0856618~tplv-k3u1fbpfcp-watermark.image" alt="demo3.gif"></p><p>è°ƒç”¨ my.startPullDownRefresh åè§¦å‘ä¸‹æ‹‰åˆ·æ–°åŠ¨ç”»ï¼Œæ•ˆæœä¸ç”¨æˆ·æ‰‹åŠ¨ä¸‹æ‹‰åˆ·æ–°ä¸€è‡´ï¼ˆä¼šè§¦å‘ <a href="https://opendocs.alipay.com/mini/api/wo21qk">onPullDownRefresh</a> ç›‘å¬æ–¹æ³•ï¼‰ã€‚</p><p>å½“å¤„ç†å®Œæ•°æ®åˆ·æ–°åï¼Œ<a href="https://opendocs.alipay.com/mini/api/pmhkbb">my.stopPullDownRefresh</a> å¯åœæ­¢å½“å‰é¡µé¢çš„ä¸‹æ‹‰åˆ·æ–°ã€‚</p><p>å¦‚ä¸Šæ¡ˆä¾‹å®Œæ•´ä»£ç å¦‚ä¸‹</p><p><code>demo.axml</code></p><figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs handlebars"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;demo&quot;</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">block</span> <span class="hljs-attr">a:if</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">list.length</span> == <span class="hljs-number">0</span> ? <span class="hljs-literal">true</span>: <span class="hljs-literal">false</span> &#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">a:if</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">time</span>==<span class="hljs-number">0</span> ? <span class="hljs-literal">true</span>:<span class="hljs-literal">false</span> &#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">onTap</span>=<span class="hljs-string">&quot;handleStartRefresh&quot;</span>&gt;</span></span><br><span class="language-xml">      å¼€å¯è‡ªåŠ¨åˆ·æ–°</span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">a:else</span>&gt;</span></span><br><span class="language-xml">      </span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">time</span>&#125;&#125;</span><span class="language-xml">ç§’åè‡ªåŠ¨åˆ·æ–°</span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">block</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">a:else</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;list&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>åˆ·æ–°æˆåŠŸğŸ˜†<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">a:for</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">list</span> &#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span> </span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">item.value</span>&#125;&#125;</span><span class="language-xml">ç¢—---</span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">item.name</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p><code>demo.less</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.demo</span> &#123;<br>  <span class="hljs-attribute">display</span>: flex;<br>  <span class="hljs-attribute">flex-direction</span>: column;<br>  <span class="hljs-attribute">justify-content</span>: center;<br>  <span class="hljs-attribute">align-items</span>: center;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;<br>  <span class="hljs-attribute">padding-top</span>: <span class="hljs-number">60px</span>;<br>  <span class="hljs-selector-class">.button</span> &#123;<br>    <span class="hljs-attribute">display</span>: flex;<br>    <span class="hljs-attribute">justify-content</span>: center;<br>    <span class="hljs-attribute">align-items</span>: center;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">40px</span>;<br>    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">20px</span>;<br>    <span class="hljs-attribute">color</span>: <span class="hljs-number">#FFFFFF</span>;<br>    <span class="hljs-attribute">background</span>: <span class="hljs-number">#FFA336</span>;<br>  &#125;<br>  <span class="hljs-selector-class">.list</span>&#123;<br>    <span class="hljs-attribute">display</span>: flex;<br>    <span class="hljs-attribute">flex-direction</span>: column;<br>    <span class="hljs-attribute">align-items</span>: center;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><code>demo.json</code></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;usingComponents&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;styleIsolation&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;apply-shared&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;pullRefresh&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p><code>demo.ts</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">Page</span>(&#123;<br>  <span class="hljs-attr">data</span>: &#123;<br>    <span class="hljs-attr">list</span>: [],<br>    <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span>,<br>    <span class="hljs-attr">time</span>: <span class="hljs-number">0</span>,<br>  &#125;,<br>  <span class="hljs-title function_">onPullDownRefresh</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>(&#123;<br>      <span class="hljs-attr">list</span>: [<br>        ...[...<span class="hljs-title class_">Array</span>(<span class="hljs-number">10</span>)].<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">_, i</span>) =&gt;</span> (&#123;<br>          <span class="hljs-attr">value</span>: i + <span class="hljs-number">1</span>,<br>          <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;èºè›³ç²‰&#x27;</span>,<br>        &#125;)),<br>      ],<br>    &#125;)<br>    my.<span class="hljs-title function_">stopPullDownRefresh</span>()<br>  &#125;,<br>  <span class="hljs-title function_">handleStartRefresh</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>(&#123;<br>      <span class="hljs-attr">time</span>: <span class="hljs-number">5</span>,<br>    &#125;)<br>    <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>.<span class="hljs-property">time</span> == <span class="hljs-number">1</span>) &#123;<br>        my.<span class="hljs-title function_">startPullDownRefresh</span>()<br>        <span class="hljs-keyword">return</span><br>      &#125;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>(&#123;<br>        <span class="hljs-attr">time</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>.<span class="hljs-property">time</span> - <span class="hljs-number">1</span>,<br>      &#125;)<br>    &#125;, <span class="hljs-number">1000</span>)<br>  &#125;,<br>&#125;)<br></code></pre></td></tr></table></figure><p>å‚è€ƒæ–‡æ¡£ï¼š<a href="https://opendocs.alipay.com/mini/api/ui-pulldown">https://opendocs.alipay.com/mini/api/ui-pulldown</a></p><h1 id="ä¸Šæ‹‰åŠ è½½"><a href="#ä¸Šæ‹‰åŠ è½½" class="headerlink" title="ä¸Šæ‹‰åŠ è½½"></a>ä¸Šæ‹‰åŠ è½½</h1><h2 id="ï¼ˆä¸€ï¼‰onReachBottomæ–¹æ³•"><a href="#ï¼ˆä¸€ï¼‰onReachBottomæ–¹æ³•" class="headerlink" title="ï¼ˆä¸€ï¼‰onReachBottomæ–¹æ³•"></a>ï¼ˆä¸€ï¼‰onReachBottomæ–¹æ³•</h2><p>onReachBottomåœ¨ä¸Šæ‹‰è§¦åº•æ—¶è§¦å‘</p><p>æ¨¡æ‹Ÿå™¨æ•ˆæœå±•ç¤º</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/21b298179a404de9a155ee687c446fd2~tplv-k3u1fbpfcp-watermark.image" alt="demo2.gif"></p><p>å¦‚ä¸Šæ¡ˆä¾‹å®Œæ•´ä»£ç å¦‚ä¸‹</p><p><code>demo.axml</code></p><figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs handlebars"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;demo&quot;</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span></span><br><span class="language-xml">    æ²¡çœ‹å¤Ÿ?è¯•è¯•ä¸Šæ‹‰åŠ è½½ğŸ˜†</span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">a:for</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">list</span> &#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span></span><br><span class="language-xml">    </span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">item.value</span>&#125;&#125;</span><span class="language-xml">ç¢—-----</span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">item.name</span>&#125;&#125;</span><span class="language-xml"></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">a:if</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">loading</span> &#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;loading&quot;</span>&gt;</span></span><br><span class="language-xml">    æ­£åœ¨åŠ è½½ä¸­~~ğŸŒ»</span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p><code>demo.less</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.demo</span>&#123;<br>    <span class="hljs-attribute">display</span>: flex;<br>    <span class="hljs-attribute">flex-direction</span>: column;<br>    <span class="hljs-attribute">justify-content</span>: center;<br>    <span class="hljs-attribute">align-items</span>: center;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;<br>    <span class="hljs-attribute">padding-bottom</span>: <span class="hljs-number">30px</span>;<br>    <span class="hljs-selector-class">.loading</span>&#123;<br>        <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">8px</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><code>demo.ts</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">Page</span>(&#123;<br>  <span class="hljs-attr">data</span>: &#123;<br>    <span class="hljs-attr">list</span>: [<br>      ...[...<span class="hljs-title class_">Array</span>(<span class="hljs-number">10</span>)].<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">_, i</span>) =&gt;</span> (&#123;<br>        <span class="hljs-attr">value</span>: i + <span class="hljs-number">1</span>,<br>        <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;èºè›³ç²‰&#x27;</span>,<br>      &#125;)),<br>    ],<br>    <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span>,<br>  &#125;,<br>  <span class="hljs-title function_">onReachBottom</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>(&#123;<br>      <span class="hljs-attr">loading</span>: <span class="hljs-literal">true</span>,<br>    &#125;)<br>    <span class="hljs-keyword">const</span> data = [<br>      ...[...<span class="hljs-title class_">Array</span>(<span class="hljs-number">30</span>)].<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">_, i</span>) =&gt;</span> (&#123;<br>        <span class="hljs-attr">value</span>: i + <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>.<span class="hljs-property">list</span>.<span class="hljs-property">length</span> + <span class="hljs-number">1</span>,<br>        <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;èºè›³ç²‰&#x27;</span>,<br>      &#125;)),<br>    ]<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>(&#123;<br>        <span class="hljs-attr">list</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>.<span class="hljs-property">list</span>.<span class="hljs-title function_">concat</span>(data),<br>        <span class="hljs-attr">loading</span>:<span class="hljs-literal">false</span><br>      &#125;)<br>    &#125;, <span class="hljs-number">2000</span>)<br>  &#125;,<br>&#125;)<br></code></pre></td></tr></table></figure><p>å‚è€ƒæ–‡æ¡£ï¼š<a href="https://opendocs.alipay.com/mini/framework/page-detail#onReachBottom()">https://opendocs.alipay.com/mini/framework/page-detail#onReachBottom()</a></p><h2 id="ï¼ˆäºŒï¼‰scroll-viewç»„ä»¶çš„onScrollToLoweræ–¹æ³•"><a href="#ï¼ˆäºŒï¼‰scroll-viewç»„ä»¶çš„onScrollToLoweræ–¹æ³•" class="headerlink" title="ï¼ˆäºŒï¼‰scroll-viewç»„ä»¶çš„onScrollToLoweræ–¹æ³•"></a>ï¼ˆäºŒï¼‰scroll-viewç»„ä»¶çš„onScrollToLoweræ–¹æ³•</h2><figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs handlebars"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">scroll-view</span> <span class="hljs-attr">scroll-y</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">true</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span> <span class="hljs-attr">onScrollToLower</span>=<span class="hljs-string">&quot;handleScrollToLower&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;height:100px&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">a:for</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">list</span> &#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span></span><br><span class="language-xml">      </span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">item.value</span>&#125;&#125;</span><span class="language-xml">ç¢—-----</span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">item.name</span>&#125;&#125;</span><span class="language-xml"></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">scroll-view</span>&gt;</span></span><br></code></pre></td></tr></table></figure><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">handleScrollToLower</span><span class="hljs-params">()</span></span> &#123;<br>   <span class="hljs-comment">//åŠ è½½æ•°æ®ï¼Œåšæ•°æ®å¤„ç†</span><br> &#125;,<br></code></pre></td></tr></table></figure><p>æ³¨ï¼šscroll-viewå¿…é¡» <code>è®¾ç½®é«˜åº¦</code></p>]]></content>
    
    
    <categories>
      
      <category>æ”¯ä»˜å®å°ç¨‹åº</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ”¯ä»˜å®å°ç¨‹åº | è‡ªå®šä¹‰æ ‡é¢˜å¯¼èˆªæ </title>
    <link href="/alipay-mini-program-custom-navigation/"/>
    <url>/alipay-mini-program-custom-navigation/</url>
    
    <content type="html"><![CDATA[<h2 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h2><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d06004a3c8964ef0830756106ef19997~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p><h2 id="ä¸€-ã€page-json"><a href="#ä¸€-ã€page-json" class="headerlink" title="ä¸€ ã€page.json"></a>ä¸€ ã€page.json</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-attr">&quot;transparentTitle&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;always&quot;</span><br></code></pre></td></tr></table></figure><h2 id="äºŒã€page-axml"><a href="#äºŒã€page-axml" class="headerlink" title="äºŒã€page.axml"></a>äºŒã€page.axml</h2><figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs handlebars"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;custom-navigation&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;height:</span></span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">systemInfo.statusBarHeight</span>+systemInfo.titleBarHeight+<span class="hljs-number">100</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">px&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h2 id="ä¸‰ã€page-less"><a href="#ä¸‰ã€page-less" class="headerlink" title="ä¸‰ã€page.less"></a>ä¸‰ã€page.less</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.custom-navigation</span> &#123;<br>  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">/assets/images/navigation-bg.png</span>);<br>  <span class="hljs-attribute">background-size</span>: <span class="hljs-number">100%</span> <span class="hljs-number">100%</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="å››ã€page-ts"><a href="#å››ã€page-ts" class="headerlink" title="å››ã€page.ts"></a>å››ã€page.ts</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-attr">data</span>:&#123;<br> <span class="hljs-attr">systemInfo</span>: &#123;&#125;,<br>&#125;<br><br><span class="hljs-title function_">onLoad</span>(<span class="hljs-params"></span>)&#123;<br>   my.<span class="hljs-title function_">getSystemInfo</span>(&#123;<br>      <span class="hljs-attr">success</span>: <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>(&#123;<br>          <span class="hljs-attr">systemInfo</span>: res,<br>        &#125;)<br>      &#125;,<br>   &#125;)<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>javascript | åˆ·æ–°é¡µé¢çš„æ–¹å¼</title>
    <link href="/javascipt-reload-page/"/>
    <url>/javascipt-reload-page/</url>
    
    <content type="html"><![CDATA[<h2 id="æ–¹å¼"><a href="#æ–¹å¼" class="headerlink" title="æ–¹å¼"></a>æ–¹å¼</h2><table><thead><tr><th>åºå·</th><th>æ–¹æ³•</th></tr></thead><tbody><tr><td>1</td><td>history.go()</td></tr><tr><td>2</td><td>location.reload()</td></tr><tr><td>3</td><td>location &#x3D; location</td></tr><tr><td>4</td><td>location.assign(location.href)</td></tr><tr><td>5</td><td>location.replace(location.href)</td></tr><tr><td>6</td><td>location.replace(document.referrer)</td></tr><tr><td>7</td><td>window.location.href &#x3D; document.URL</td></tr><tr><td>8</td><td>window.location.href &#x3D; document.location.href</td></tr><tr><td>9</td><td>window.open(document.referrer, â€œ_parentâ€, â€œâ€)</td></tr><tr><td>10</td><td>document.location.href &#x3D; window.location.href</td></tr><tr><td>11</td><td>document.location.href &#x3D; document.URL</td></tr><tr><td>12</td><td>document.execCommand(â€œRefreshâ€) ï¼ˆå·²åºŸå¼ƒï¼‰</td></tr><tr><td>13</td><td>window.navigate(url)ï¼ˆåªé’ˆå¯¹ IE æµè§ˆå™¨ï¼Œé¿å…ä½¿ç”¨ï¼Œä¸å…¼å®¹ï¼‰</td></tr></tbody></table><h2 id="å‚è€ƒæ–‡æ¡£"><a href="#å‚è€ƒæ–‡æ¡£" class="headerlink" title="å‚è€ƒæ–‡æ¡£"></a>å‚è€ƒæ–‡æ¡£</h2><p>1ã€<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document/execCommand">https://developer.mozilla.org/zh-CN/docs/Web/API/Document/execCommand</a></p><p>2ã€<a href="https://blog.csdn.net/m0_46652188/article/details/119867048">https://blog.csdn.net/m0_46652188/article/details/119867048</a></p><p>3ã€<a href="https://blog.csdn.net/hu1010037197/article/details/100427393">https://blog.csdn.net/hu1010037197/article/details/100427393</a></p><h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9171c0f0bb7c4a0b85daa800bea7b98b~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>vue3-readonlyã€shallowReadonly</title>
    <link href="/vue3-readonly%E3%80%81shallowReadonly/"/>
    <url>/vue3-readonly%E3%80%81shallowReadonly/</url>
    
    <content type="html"><![CDATA[<h2 id="readonly"><a href="#readonly" class="headerlink" title="readonly"></a>readonly</h2><p>æ¥å—ä¸€ä¸ªå¯¹è±¡ï¼ˆä¸ç®¡æ˜¯å“åº”å¼è¿˜æ˜¯æ™®é€šçš„ï¼‰æˆ–è€…æ˜¯ä¸€ä¸ª refï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªåŸå€¼çš„åªè¯»ä»£ç†ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><br>&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">n-el</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;h-400 w-full flex flex-col justify-center items-center&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">n-el</span>&gt;</span>&#123;&#123; data &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">n-el</span>&gt;</span>&#123;&#123; readonlyData &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">n-button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;handleAddData&quot;</span>&gt;</span>å¢åŠ data<span class="hljs-tag">&lt;/<span class="hljs-name">n-button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">n-button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;!mt-2&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;handleAddReadonlyData&quot;</span>&gt;</span>å¢åŠ readonlyData<span class="hljs-tag">&lt;/<span class="hljs-name">n-button</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br>  &lt;/template&gt;<br><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;ts&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-keyword">import</span> &#123; readonly, ref &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-keyword">const</span> data = <span class="hljs-title function_">ref</span>(<span class="hljs-number">100</span>)</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-keyword">const</span> readonlyData = <span class="hljs-title function_">readonly</span>(data)</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleAddData</span> = (<span class="hljs-params"></span>) =&gt; &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    data.<span class="hljs-property">value</span>++</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleAddReadonlyData</span> = (<span class="hljs-params"></span>) =&gt; &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    readonlyData.<span class="hljs-property">value</span>++</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;</span></span><br><span class="language-javascript"><span class="language-xml">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>ç¼–è¾‘å™¨æç¤º</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/44513af886e44d94808feef76617fd03~tplv-k3u1fbpfcp-watermark.image"></p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7b4edee2446840ba80f704880238007b~tplv-k3u1fbpfcp-watermark.image"></p><h2 id="shallowReadonly"><a href="#shallowReadonly" class="headerlink" title="shallowReadonly"></a>shallowReadonly</h2><p><code>readonly()</code>çš„æµ…å±‚ä½œç”¨å½¢å¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">n-el</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;h-400 w-full flex flex-col justify-center items-center&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">n-el</span>&gt;</span>&#123;&#123; obj.a &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">n-el</span>&gt;</span>&#123;&#123; obj.b.res &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">n-el</span>&gt;</span>&#123;&#123; obj.b.c.res &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">n-el</span>&gt;</span>------------------------<span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">n-el</span>&gt;</span>&#123;&#123; readonlyObj.a &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">n-el</span>&gt;</span>&#123;&#123; readonlyObj.b.res &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">n-el</span>&gt;</span>&#123;&#123; readonlyObj.b.c.res &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">n-button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;!mt-2&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;handleAddObj&quot;</span>&gt;</span>å¢åŠ obj<span class="hljs-tag">&lt;/<span class="hljs-name">n-button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">n-button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;!mt-2&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;handleAddReadonlyObj&quot;</span>&gt;</span>å¢åŠ readonlyObj<span class="hljs-tag">&lt;/<span class="hljs-name">n-button</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br> &lt;/template&gt;<br><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;ts&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-keyword">import</span> &#123; reactive, shallowReadonly &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">const</span> obj = <span class="hljs-title function_">reactive</span>(&#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>,</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-attr">b</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">res</span>: <span class="hljs-number">2</span>,</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">c</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">res</span>: <span class="hljs-number">3</span>,</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;)</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-keyword">const</span> readonlyObj = <span class="hljs-title function_">shallowReadonly</span>(obj)</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleAddObj</span> = (<span class="hljs-params"></span>) =&gt; &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    obj.<span class="hljs-property">a</span> = <span class="hljs-number">100</span></span></span><br><span class="language-javascript"><span class="language-xml">    obj.<span class="hljs-property">b</span>.<span class="hljs-property">res</span> = <span class="hljs-number">200</span></span></span><br><span class="language-javascript"><span class="language-xml">    obj.<span class="hljs-property">b</span>.<span class="hljs-property">c</span>.<span class="hljs-property">res</span> = <span class="hljs-number">300</span></span></span><br><span class="language-javascript"><span class="language-xml">  &#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleAddReadonlyObj</span> = (<span class="hljs-params"></span>) =&gt; &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    readonlyObj.<span class="hljs-property">a</span> = <span class="hljs-number">100</span></span></span><br><span class="language-javascript"><span class="language-xml">    readonlyObj.<span class="hljs-property">b</span>.<span class="hljs-property">res</span> = <span class="hljs-number">200</span></span></span><br><span class="language-javascript"><span class="language-xml">    readonlyObj.<span class="hljs-property">b</span>.<span class="hljs-property">c</span>.<span class="hljs-property">res</span> = <span class="hljs-number">300</span></span></span><br><span class="language-javascript"><span class="language-xml">  &#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0fbdc207c0b049cbbb9a57dbb707af44~tplv-k3u1fbpfcp-watermark.image"></p><p>å¢åŠ  obj</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/45e2d41b3d104fedabddb1a04d871d69~tplv-k3u1fbpfcp-watermark.image"></p><p>å¢åŠ  readonlyObj</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0da298e1257245c29e2277a0c199eb19~tplv-k3u1fbpfcp-watermark.image"></p>]]></content>
    
    
    <categories>
      
      <category>vue3</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>vue3 | isRefã€unrefã€toRefã€toRefs</title>
    <link href="/vue3-isRef%E3%80%81unref%E3%80%81toRef%E3%80%81toRefs/"/>
    <url>/vue3-isRef%E3%80%81unref%E3%80%81toRef%E3%80%81toRefs/</url>
    
    <content type="html"><![CDATA[<h2 id="isRef"><a href="#isRef" class="headerlink" title="isRef"></a>isRef</h2><p>æ£€æŸ¥æŸä¸ªå€¼æ˜¯å¦æ˜¯<code>ref</code>ã€‚æ˜¯è¿”å›<code>true</code>ï¼Œå¦åˆ™è¿”å›<code>false</code>ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> num = <span class="hljs-title function_">ref</span>(<span class="hljs-number">10</span>);<br><span class="hljs-keyword">const</span> num1 = <span class="hljs-number">20</span>;<br><span class="hljs-keyword">const</span> num2 = <span class="hljs-title function_">reactive</span>(&#123; <span class="hljs-attr">data</span>: <span class="hljs-number">30</span> &#125;);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">isRef</span>(num)); <span class="hljs-comment">//true</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">isRef</span>(num1)); <span class="hljs-comment">//false</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">isRef</span>(num2)); <span class="hljs-comment">//false</span><br></code></pre></td></tr></table></figure><h2 id="unref"><a href="#unref" class="headerlink" title="unref()"></a>unref()</h2><p>å¦‚æœå‚æ•°æ˜¯<code>ref</code>ï¼Œåˆ™è¿”å›å†…éƒ¨å€¼ï¼Œå¦åˆ™è¿”å›å‚æ•°æœ¬èº«ã€‚<br>è¿™æ˜¯ Â <code>val = isRef(val) ? val.value : val</code>Â  è®¡ç®—çš„ä¸€ä¸ªè¯­æ³•ç³–ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">unref</span>(num));<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">unref</span>(num1));<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">unref</span>(num2));<br></code></pre></td></tr></table></figure><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9b582a6f16dc4ac6b629f152c0a48f98~tplv-k3u1fbpfcp-watermark.image"></p><h2 id="toRef"><a href="#toRef" class="headerlink" title="toRef"></a>toRef</h2><h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><p>åŸºäºå“åº”å¼å¯¹è±¡ä¸Šçš„æŸä¸ªå±æ€§ï¼Œåˆ›å»ºä¸€ä¸ªå¯¹åº”çš„ refã€‚åˆ›å»ºå‡ºæ¥çš„ ref ä¼šè·Ÿæºå±æ€§ä¿æŒåŒæ­¥ï¼šæ›´æ”¹äº† ref çš„å€¼å°±ä¼šæ›´æ”¹æºå±æ€§çš„å€¼ï¼Œåä¹‹äº¦ç„¶ã€‚</p><ul><li>å‚æ•°ä¸€ï¼šæ“ä½œå¯¹è±¡</li><li>å‚æ•°äºŒï¼šå¯¹è±¡å±æ€§</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> val = <span class="hljs-title function_">reactive</span>(&#123;<br>  <span class="hljs-attr">num</span>: <span class="hljs-number">1</span>,<br>&#125;);<br><br><span class="hljs-keyword">const</span> numRef = <span class="hljs-title function_">toRef</span>(val, <span class="hljs-string">&quot;num&quot;</span>);<br><br><span class="hljs-comment">// æ›´æ”¹è¯¥ ref ä¼šæ›´æ–°æºå±æ€§</span><br>numRef.<span class="hljs-property">value</span>++;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(val.<span class="hljs-property">num</span>); <span class="hljs-comment">// 2</span><br><br><span class="hljs-comment">// æ›´æ”¹æºå±æ€§ä¹Ÿä¼šæ›´æ–°è¯¥ ref</span><br>val.<span class="hljs-property">num</span>++;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(numRef.<span class="hljs-property">value</span>); <span class="hljs-comment">// 3</span><br></code></pre></td></tr></table></figure><h3 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h3><p><code>toRef()</code>Â  è¿™ä¸ªå‡½æ•°åœ¨ä½ æƒ³æŠŠä¸€ä¸ª prop çš„ ref ä¼ é€’ç»™ä¸€ä¸ªç»„åˆå¼å‡½æ•°æ—¶ä¼šå¾ˆæœ‰ç”¨å½“æˆ‘ä»¬å‘ç»„ä»¶ä¼ é€’ props æ•°æ®æ—¶ï¼Œå¦‚æœæƒ³è¦æŸä¸ªæ•°æ®åŒçˆ¶ç»„ä»¶åŒæ­¥æ›´æ–°ã€‚å½“ Â <code>toRef</code>Â  ä¸ç»„ä»¶ props ç»“åˆä½¿ç”¨æ—¶ï¼Œå…³äºç¦æ­¢å¯¹ props åšå‡ºæ›´æ”¹çš„é™åˆ¶ä¾ç„¶æœ‰æ•ˆã€‚å°è¯•å°†æ–°çš„å€¼ä¼ é€’ç»™ ref ç­‰æ•ˆäºå°è¯•ç›´æ¥æ›´æ”¹ propsï¼Œè¿™æ˜¯ä¸å…è®¸çš„ã€‚åœ¨è¿™ç§åœºæ™¯ä¸‹ï¼Œå¯ä»¥ä½¿ç”¨<code>watch</code>å»ç›‘å¬æˆ‘ä»¬å®šä¹‰<code>ref()</code>å¯¹è±¡ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">n-modal</span> <span class="hljs-attr">:show</span>=<span class="hljs-string">&quot;props.visible&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">n-card</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 600px&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;ç¼–è¾‘&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">:bordered</span>=<span class="hljs-string">&quot;false&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">size</span>=<span class="hljs-string">&quot;huge&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">role</span>=<span class="hljs-string">&quot;dialog&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">aria-modal</span>=<span class="hljs-string">&quot;true&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">    &gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">n-input</span> <span class="hljs-attr">v-model:value</span>=<span class="hljs-string">&quot;inputValue&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">n-input</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">footer</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">n-el</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;flex justify-end&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">n-space</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">n-button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;emits(&#x27;cancel&#x27;)&quot;</span>&gt;</span>å–æ¶ˆ<span class="hljs-tag">&lt;/<span class="hljs-name">n-button</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">n-button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;emits(&#x27;save&#x27;, inputValue)&quot;</span>&gt;</span>ç¡®å®š<span class="hljs-tag">&lt;/<span class="hljs-name">n-button</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">n-space</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">n-card</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">n-modal</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;ts&quot;</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-keyword">import</span> &#123; toRef, watch, ref &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-keyword">const</span> props = defineProps&lt;&#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-attr">visible</span>: boolean</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-attr">value</span>: string</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;&gt;()</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-keyword">const</span> emits = defineEmits&lt;&#123;</span></span><br><span class="language-javascript"><span class="language-xml">    (<span class="hljs-attr">e</span>: <span class="hljs-string">&#x27;save&#x27;</span>, <span class="hljs-attr">data</span>: string): <span class="hljs-keyword">void</span></span></span><br><span class="language-javascript"><span class="language-xml">    (<span class="hljs-attr">e</span>: <span class="hljs-string">&#x27;cancel&#x27;</span>): <span class="hljs-keyword">void</span></span></span><br><span class="language-javascript"><span class="language-xml">  &#125;&gt;()</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-keyword">const</span> valueToRef = <span class="hljs-title function_">toRef</span>(props, <span class="hljs-string">&#x27;value&#x27;</span>)</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-keyword">const</span> inputValue = <span class="hljs-title function_">ref</span>(props.<span class="hljs-property">value</span>)</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">watch</span>(</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-function">() =&gt;</span> valueToRef.<span class="hljs-property">value</span>,</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-function">(<span class="hljs-params">v</span>) =&gt;</span> (inputValue.<span class="hljs-property">value</span> = v)</span></span><br><span class="language-javascript"><span class="language-xml">  )</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> visible = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">true</span>)<br><span class="hljs-keyword">const</span> inputValue = <span class="hljs-title function_">ref</span>(<span class="hljs-string">&#x27;å“ˆå“ˆå“ˆå“ˆ&#x27;</span>)<br><span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSave</span> = (<span class="hljs-params">v: string</span>) =&gt; &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;v&#x27;</span>, v)<br>&#125;<br><span class="hljs-keyword">const</span> <span class="hljs-title function_">handleCancel</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  visible.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span><br>&#125;<br><br>&lt;<span class="hljs-title class_">Demo</span> :value=<span class="hljs-string">&quot;inputValue&quot;</span> :visible=<span class="hljs-string">&quot;visible&quot;</span> @save=<span class="hljs-string">&quot;handleSave&quot;</span> @cancel=<span class="hljs-string">&quot;handleCancel&quot;</span> /&gt;<br></code></pre></td></tr></table></figure><p><code>æ³¨ï¼š</code>è§†å›¾æ›´æ–°çš„é—®é¢˜</p><p>å‚è€ƒï¼š <a href="https://www.cnblogs.com/web-learn/p/16725393.html">https://www.cnblogs.com/web-learn/p/16725393.html</a></p><h2 id="toRefs"><a href="#toRefs" class="headerlink" title="toRefs()"></a>toRefs()</h2><p>å°†ä¸€ä¸ªå“åº”å¼å¯¹è±¡è½¬æ¢ä¸ºä¸€ä¸ªæ™®é€šå¯¹è±¡ï¼Œè¿™ä¸ªæ™®é€šå¯¹è±¡çš„æ¯ä¸ªå±æ€§éƒ½æŒ‡å‘æºå¯¹è±¡ç›¸åº”çš„å±æ€§çš„<code>ref</code>ã€‚æ¯ä¸ªå•ç‹¬çš„<code>ref</code>éƒ½æ˜¯ä½¿ç”¨<code>toRef()</code>åˆ›å»ºçš„ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> val = <span class="hljs-title function_">reactive</span>(&#123;<br>  <span class="hljs-attr">num</span>: <span class="hljs-number">1</span>,<br>&#125;);<br><br><span class="hljs-keyword">const</span> numRef = <span class="hljs-title function_">toRefs</span>(val);<br><br><span class="hljs-comment">// æ›´æ”¹è¯¥ ref ä¼šæ›´æ–°æºå±æ€§</span><br>numRef.<span class="hljs-property">num</span>.<span class="hljs-property">value</span>++;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(val.<span class="hljs-property">num</span>); <span class="hljs-comment">// 2</span><br><br><span class="hljs-comment">// æ›´æ”¹æºå±æ€§ä¹Ÿä¼šæ›´æ–°è¯¥ ref</span><br>val.<span class="hljs-property">num</span>++;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(numRef.<span class="hljs-property">num</span>.<span class="hljs-property">value</span>); <span class="hljs-comment">// 3</span><br></code></pre></td></tr></table></figure><p><code>toRefs()</code>è§£æ„å‡ºæ¥çš„å¯¹è±¡ä¸ä¼šå¤±å»å“åº”æ€§ã€‚</p><p>å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> obj = <span class="hljs-title function_">reactive</span>(&#123;<br>  <span class="hljs-attr">num</span>: <span class="hljs-number">10</span>,<br>  <span class="hljs-attr">num2</span>: <span class="hljs-number">20</span>,<br>&#125;);<br><br><span class="hljs-keyword">const</span> &#123; num1, num2 &#125; = <span class="hljs-title function_">toRefs</span>(obj);<br></code></pre></td></tr></table></figure><p><code>toRefs</code>Â  åœ¨è°ƒç”¨æ—¶åªä¼šä¸ºæºå¯¹è±¡ä¸Šå¯ä»¥æšä¸¾çš„å±æ€§åˆ›å»º refã€‚å¦‚æœè¦ä¸ºå¯èƒ½è¿˜ä¸å­˜åœ¨çš„å±æ€§åˆ›å»º refï¼Œè¯·æ”¹ç”¨ Â <a href="https://cn.vuejs.org/api/reactivity-utilities.html#toref"><code>toRef</code></a>ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>vue3</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>vue3 | shallowReactive ã€shallowRefã€triggerRef</title>
    <link href="/vue3-shallowReactive-shallowRef/"/>
    <url>/vue3-shallowReactive-shallowRef/</url>
    
    <content type="html"><![CDATA[<h2 id="shallowReactive"><a href="#shallowReactive" class="headerlink" title="shallowReactive"></a>shallowReactive</h2><p>ä½¿ç”¨ reactive å£°æ˜çš„å˜é‡ä¸ºé€’å½’ç›‘å¬ï¼Œä½¿ç”¨ shallowReactive å£°æ˜çš„å˜é‡ä¸ºéé€’å½’ç›‘å¬ï¼ˆé€šä¿—çš„è®²å°±æ˜¯ reactive åˆ›å»ºçš„å¯¹è±¡å°†ä¼šè¢« vue å†…éƒ¨è¿›è¡Œé€’å½’ç›‘å¬ï¼Œå¯ä»¥ç›‘å¬åˆ°å¯¹è±¡ä¸­çš„å¯¹è±¡æ˜¯å¦å‘ç”Ÿäº†æ”¹å˜ä»è€Œæ›´æ–°è§†å›¾ï¼Œè€Œ shallowReactive åˆ›å»ºçš„å¯¹è±¡åªèƒ½ç›‘å¬åˆ°é¦–å±‚å¯¹è±¡çš„å˜åŒ–ï¼‰ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;script setup lang=<span class="hljs-string">&quot;ts&quot;</span>&gt;<br>  <span class="hljs-keyword">import</span> &#123; shallowReactive &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br>  <span class="hljs-keyword">const</span> state = <span class="hljs-title function_">shallowReactive</span>(&#123;<br>    <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>,<br>    <span class="hljs-attr">b</span>: &#123;<br>      <span class="hljs-attr">res</span>: <span class="hljs-number">2</span>,<br>      <span class="hljs-attr">c</span>: &#123;<br>        <span class="hljs-attr">res</span>: <span class="hljs-number">3</span>,<br>      &#125;,<br>    &#125;,<br>  &#125;)<br><br>  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleCLick</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>    state.<span class="hljs-property">a</span> = <span class="hljs-number">100</span><br>    state.<span class="hljs-property">b</span>.<span class="hljs-property">res</span> = <span class="hljs-number">200</span><br>    state.<span class="hljs-property">b</span>.<span class="hljs-property">c</span>.<span class="hljs-property">res</span> = <span class="hljs-number">300</span><br>  &#125;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">n-el</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;flex flex-col justify-center items-center w-full h-200&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">n-el</span>&gt;</span>&#123;&#123; state.a &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">n-el</span>&gt;</span>&#123;&#123; state.b.res &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">n-el</span>&gt;</span>&#123;&#123; state.b.c.res &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">n-button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;handleCLick&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;!w-20&quot;</span>&gt;</span>ç‚¹å‡»<span class="hljs-tag">&lt;/<span class="hljs-name">n-button</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/02e3909c494145c9a39eae7676ad8746~tplv-k3u1fbpfcp-watermark.image"></p><h2 id="shallowRef"><a href="#shallowRef" class="headerlink" title="shallowRef"></a>shallowRef</h2><p>å…¶ä¸­ shallowRef ä¸ºéé€’å½’ç›‘å¬ï¼Œref ä¸ºé€’å½’ç›‘å¬ï¼Œä¸ shallowReactive å’Œ reactive ä¸åŒçš„æ˜¯ shallowRef å’Œ ref ç›‘å¬çš„å¯¹è±¡é¦–å±‚æ˜¯ value è¿™ä¸€å±‚ï¼Œåªæœ‰å½“ value å‘ç”Ÿæ”¹å˜æ—¶ shallowRef å£°æ˜çš„å˜é‡æ‰ä¼šåœ¨è§†å›¾ä¸Šè¿›è¡Œæ›´æ–°ã€‚<br><code>shallowRef</code>åªæœ‰å¯¹ Â <code>.value</code>Â  çš„è®¿é—®æ˜¯å“åº”å¼çš„ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;n-el&gt;&#123;&#123; state2.<span class="hljs-property">res</span> &#125;&#125;&lt;/n-el&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">n-button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;!w-20&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;handleCLick&quot;</span>&gt;</span>ç‚¹å‡»<span class="hljs-tag">&lt;/<span class="hljs-name">n-button</span>&gt;</span></span><br><br>......<br> <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleCLick</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>    <span class="hljs-comment">// state2.value.res = 9999 //ä¸ä¼šè§¦å‘</span><br>  &#125;<br></code></pre></td></tr></table></figure><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e517fb608a6649ef865b464ad80de5a6~tplv-k3u1fbpfcp-watermark.image"></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">handleCLick</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-comment">//ä¼šè§¦å‘</span><br>  state2.<span class="hljs-property">value</span> = &#123;<br>    <span class="hljs-attr">res</span>: <span class="hljs-number">9999</span>,<br>  &#125;;<br>&#125;;<br></code></pre></td></tr></table></figure><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dcf46ed944ca4583a2b4bd17c2f32bec~tplv-k3u1fbpfcp-watermark.image"></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript">    &lt;n-el&gt;&#123;&#123; state2.<span class="hljs-property">res</span> &#125;&#125;&lt;/n-el&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">n-el</span>&gt;</span>&#123;&#123; state2.res2.data &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">n-el</span>&gt;</span>&#123;&#123; state2.res2.res3.data &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">n-button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;!w-20&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;handleCLick&quot;</span>&gt;</span>ç‚¹å‡»<span class="hljs-tag">&lt;/<span class="hljs-name">n-button</span>&gt;</span></span><br><br>......<br>  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleCLick</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>    state2.<span class="hljs-property">value</span> = &#123;<br>      <span class="hljs-attr">res</span>: <span class="hljs-number">100</span>,<br>      <span class="hljs-attr">res2</span>: &#123;<br>        <span class="hljs-attr">data</span>: <span class="hljs-number">200</span>,<br>        <span class="hljs-attr">res3</span>: &#123;<br>          <span class="hljs-attr">data</span>: <span class="hljs-number">300</span>,<br>        &#125;,<br>      &#125;,<br>    &#125;<br>  &#125;<br></code></pre></td></tr></table></figure><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e651404777e947f081ba08c012163757~tplv-k3u1fbpfcp-watermark.image"></p><h2 id="triggerRef"><a href="#triggerRef" class="headerlink" title="triggerRef"></a>triggerRef</h2><p>triggerRef çš„ä½œç”¨åˆ™æ˜¯æ‰‹åŠ¨æ‰§è¡Œä¸ shallowRef å…³è”çš„ä»»ä½•å‰¯ä½œç”¨ï¼Œå¼ºåˆ¶æ›´æ–°è§†å›¾ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">handleCLick</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  state.<span class="hljs-property">value</span>.<span class="hljs-property">a</span> = <span class="hljs-number">100</span><br>  state.<span class="hljs-property">value</span>.<span class="hljs-property">b</span>.<span class="hljs-property">res</span> = <span class="hljs-number">200</span><br>  state.<span class="hljs-property">value</span>.<span class="hljs-property">b</span>.<span class="hljs-property">c</span>.<span class="hljs-property">res</span> = <span class="hljs-number">300</span><br>  state2.<span class="hljs-property">value</span>.<span class="hljs-property">res</span> = <span class="hljs-number">9999</span><br>  <span class="hljs-title function_">triggerRef</span>(state2)<br>&#125;<br><br><br>......<br> &lt;n-el&gt;&#123;&#123; state2.<span class="hljs-property">res</span> &#125;&#125;&lt;/n-el&gt;<br> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">n-el</span>&gt;</span>&#123;&#123; state2.res2.data &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">n-el</span>&gt;</span>&#123;&#123; state2.res2.res3.data &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">n-button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;!w-20&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;handleCLick&quot;</span>&gt;</span>ç‚¹å‡»<span class="hljs-tag">&lt;/<span class="hljs-name">n-button</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ace01d4175634045b60ec0b4ff7a0808~tplv-k3u1fbpfcp-watermark.image"></p><p>å‚è€ƒæ–‡æ¡£ï¼š</p><p>1ã€<a href="https://www.jianshu.com/p/4e0d4fcff950">https://www.jianshu.com/p/4e0d4fcff950</a></p><p>2ã€<a href="https://blog.csdn.net/zxBlogs/article/details/114546382">https://blog.csdn.net/zxBlogs/article/details/114546382</a></p>]]></content>
    
    
    <categories>
      
      <category>vue3</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>vue3 | slots</title>
    <link href="/vue3-slots/"/>
    <url>/vue3-slots/</url>
    
    <content type="html"><![CDATA[<h1 id="ä¸€ã€ä»€ä¹ˆæ˜¯æ’æ§½"><a href="#ä¸€ã€ä»€ä¹ˆæ˜¯æ’æ§½" class="headerlink" title="ä¸€ã€ä»€ä¹ˆæ˜¯æ’æ§½"></a>ä¸€ã€ä»€ä¹ˆæ˜¯æ’æ§½</h1><p><strong>æ’æ§½</strong>å°±æ˜¯å­ç»„ä»¶ä¸­çš„æä¾›ç»™çˆ¶ç»„ä»¶ä½¿ç”¨çš„ä¸€ä¸ª<strong>å ä½ç¬¦</strong>ï¼Œç”¨<code>&lt;slot&gt;&lt;/slot&gt;</code>Â  è¡¨ç¤ºï¼Œçˆ¶ç»„ä»¶å¯ä»¥åœ¨è¿™ä¸ªå ä½ç¬¦ä¸­å¡«å……ä»»ä½•æ¨¡æ¿ä»£ç ï¼Œå¦‚ HTMLã€ç»„ä»¶ç­‰ï¼Œå¡«å……çš„å†…å®¹ä¼šæ›¿æ¢å­ç»„ä»¶çš„<code>&lt;slot&gt;&lt;/slot&gt;</code>æ ‡ç­¾ï¼Œçˆ¶ç»„ä»¶å¡«å……çš„å†…å®¹ç§°ä¸º<strong>æ’æ§½å†…å®¹</strong>ã€‚</p><ul><li>å­ç»„ä»¶ä¸æä¾›æ’æ§½æ—¶ï¼Œçˆ¶ç»„ä»¶å¡«å……å¤±æ•ˆ</li><li>çˆ¶ç»„ä»¶æ— å¡«å……æ—¶ï¼Œ<code>&lt;slot&gt;&lt;/slot&gt;</code>ä¸­çš„<strong>å¤‡ç”¨å†…å®¹</strong>ä¼šå¯ç”¨ç”Ÿæ•ˆ</li><li>çˆ¶çº§æ¨¡æ¿é‡Œçš„æ‰€æœ‰å†…å®¹éƒ½æ˜¯åœ¨çˆ¶çº§ä½œç”¨åŸŸä¸­ç¼–è¯‘çš„ï¼Œå­æ¨¡æ¿é‡Œçš„æ‰€æœ‰å†…å®¹éƒ½æ˜¯åœ¨å­ä½œç”¨åŸŸä¸­ç¼–è¯‘çš„ï¼Œäº’ä¸å½±å“</li></ul><h1 id="äºŒã€åŒ¿åæ’æ§½ï¼ˆé»˜è®¤æ’æ§½ï¼‰"><a href="#äºŒã€åŒ¿åæ’æ§½ï¼ˆé»˜è®¤æ’æ§½ï¼‰" class="headerlink" title="äºŒã€åŒ¿åæ’æ§½ï¼ˆé»˜è®¤æ’æ§½ï¼‰"></a>äºŒã€åŒ¿åæ’æ§½ï¼ˆé»˜è®¤æ’æ§½ï¼‰</h1><h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p>åœ¨å¤–éƒ¨ç»„ä»¶æ²¡æœ‰æä¾›ä»»ä½•å†…å®¹çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨åŒ¿åæ’æ§½æä¾›é»˜è®¤å†…å®¹ã€‚</p><h2 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h2><p>æ¯”å¦‚<br><code>MyComponent.vue</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;n-el&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span>è¿™æ˜¯ä¸€ä¸ªé»˜è®¤å±•ç¤ºçš„å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span></span><br>&lt;/n-el&gt;<br><br><span class="hljs-comment">//ç»„ä»¶ä½¿ç”¨</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">MyComponent</span>/&gt;</span></span><br></code></pre></td></tr></table></figure><p>å¦‚ä¸‹ï¼š</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5f7cb2e4fabb4d0f8e0f2c4f17dfe13e~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p><p>å¦‚æœå¤–éƒ¨ç»„ä»¶æä¾›äº†æ’æ§½å†…å®¹ï¼Œæˆ‘ä»¬æä¾›çš„å†…å®¹ä¼šè¦†ç›–æ‰é»˜è®¤çš„å†…å®¹</p><p>å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;<span class="hljs-title class_">MyComponent</span>&gt;åŠ å…¥ä¸€æ®µæ–‡å­—&lt;/<span class="hljs-title class_">MyComponent</span>&gt;<br></code></pre></td></tr></table></figure><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fcace2a330894022851dfd36009649a0~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p><p><code>æ³¨ï¼š</code> æ’æ§½å†…å®¹å¯ä»¥æ˜¯ä»»æ„åˆæ³•çš„æ¨¡æ¿å†…å®¹ï¼Œä¸å±€é™äºæ–‡æœ¬ã€‚</p><p>å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;<span class="hljs-title class_">MyComponent</span>&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">n-button</span>&gt;</span>åŠ å…¥ä¸€ä¸ªæŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">n-button</span>&gt;</span></span><br>&lt;/<span class="hljs-title class_">MyComponent</span>&gt;<br></code></pre></td></tr></table></figure><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2e6ea37a35ff41678177b3383c0f8ee7~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p><h1 id="ä¸‰ã€å…·åæ’æ§½"><a href="#ä¸‰ã€å…·åæ’æ§½" class="headerlink" title="ä¸‰ã€å…·åæ’æ§½"></a>ä¸‰ã€å…·åæ’æ§½</h1><h2 id="ä»‹ç»-1"><a href="#ä»‹ç»-1" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p><code>&lt;slot&gt;</code>å…ƒç´ å¸¦æœ‰ name å±æ€§çš„æ’æ§½è¢«ç§°ä¸ºå…·åæ’æ§½ã€‚</p><h2 id="ä½¿ç”¨åœºæ™¯-1"><a href="#ä½¿ç”¨åœºæ™¯-1" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h2><p>ä½œç”¨äºä¸€ä¸ªç»„ä»¶ä¸­æ‹¥æœ‰å¤šä¸ªæ’æ§½ï¼Œè€Œ<code>name</code>ç›¸å½“äºæ’æ§½çš„æ ‡è¯†ï¼Œç”¨æ¥ç»™å„ä¸ªæ’æ§½åˆ†é…å”¯ä¸€çš„ IDã€‚</p><p><code>MyComponent.vue</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;n-el <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;flex flex-col justify-center items-center h-[80vh] w-full&quot;</span>&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">n-el</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;text-[pink] text-[18px] mb-2&quot;</span>&gt;</span>ç»„ä»¶ç›¸å…³å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;head&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;main&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;footer&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span></span><br>&lt;/n-el&gt;<br></code></pre></td></tr></table></figure><p>å¤–éƒ¨å¼•ç”¨è¯¥ç»„ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;<span class="hljs-title class_">MyComponent</span>&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-slot:head</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">n-el</span>&gt;</span>è¿™æ˜¯å¤´éƒ¨å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-slot:main</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">n-el</span>&gt;</span>è¿™æ˜¯ä¸»ä½“å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-slot:footer</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">n-el</span>&gt;</span>è¿™æ˜¯å°¾éƒ¨å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-slot:no</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">n-el</span>&gt;</span>ç»„ä»¶ä¸­æ²¡æœ‰å¯åŒ¹é…çš„æ’æ§½nameï¼Œä¸æ˜¾ç¤º<span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br>&lt;/<span class="hljs-title class_">MyComponent</span>&gt;<br></code></pre></td></tr></table></figure><p><code>v-slot</code>å¯ä»¥ç®€å†™æˆ<code>#</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;<span class="hljs-title class_">MyComponent</span>&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">head</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">n-el</span>&gt;</span>è¿™æ˜¯å¤´éƒ¨å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">main</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">n-el</span>&gt;</span>è¿™æ˜¯ä¸»ä½“å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">footer</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">n-el</span>&gt;</span>è¿™æ˜¯å°¾éƒ¨å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">no</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">n-el</span>&gt;</span>ç»„ä»¶ä¸­æ²¡æœ‰å¯åŒ¹é…çš„æ’æ§½nameï¼Œä¸æ˜¾ç¤º<span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br>&lt;/<span class="hljs-title class_">MyComponent</span>&gt;<br></code></pre></td></tr></table></figure><p>ç°åœ¨ Â <code>&lt;template&gt;</code>Â  å…ƒç´ ä¸­çš„æ‰€æœ‰å†…å®¹éƒ½å°†è¢«ä¼ é€’åˆ°ç›¸åº”çš„æ’æ§½ã€‚</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/70c05ad19c1b4839a92ea8d1c5652fe3~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2a194900097343ccb04d792893a5ece0~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p><p><code>æ³¨æ„ï¼š</code> åŒ¿åæ’æ§½ä¹Ÿæœ‰è‡ªå·±çš„<code>name</code>ï¼Œåªä¸è¿‡ name ä¼šè¢«éšå¼åœ°å‘½åä¸º<code>default</code>ã€‚</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ab60634c7c7e4674a63af85766d62739~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p><p>ä¸Šé¢çš„å†™æ³•ç­‰ä»·äº:</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/87c6836186464a22ae4c61689d16322c~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/69366fd463024b7796db3ad686f4dbdc~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p><h1 id="å››ã€åŠ¨æ€æ’æ§½å"><a href="#å››ã€åŠ¨æ€æ’æ§½å" class="headerlink" title="å››ã€åŠ¨æ€æ’æ§½å"></a>å››ã€åŠ¨æ€æ’æ§½å</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;<span class="hljs-title class_">MyComponent</span>&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-slot:</span>[<span class="hljs-attr">slotName</span>]&gt;</span></span><br><span class="language-xml">    ...</span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><br>  &lt;!-- ç¼©å†™ä¸º --&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> #[<span class="hljs-attr">slotName</span>]&gt;</span></span><br><span class="language-xml">    ...</span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br>&lt;/<span class="hljs-title class_">MyComponent</span>&gt;<br><br></code></pre></td></tr></table></figure><p>å¦‚ä¸‹<br><code>MyComponent.vue</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;n-el&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">n-el</span>&gt;</span>ç»„ä»¶ç›¸å…³å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;head&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span></span><br>&lt;/n-el&gt;<br></code></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;script setup lang=<span class="hljs-string">&quot;ts&quot;</span>&gt;<br>  <span class="hljs-keyword">const</span> data = <span class="hljs-string">&#x27;head&#x27;</span><br>&lt;/script&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml">    ......</span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">MyComponent</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #[<span class="hljs-attr">data</span>]&gt;</span> å¤´éƒ¨å†…å®¹ <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">MyComponent</span>&gt;</span></span><br><span class="language-xml">    .......</span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bf234b04cf3e405c85c7770cbe8c92d2~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p><h1 id="äº”ã€ä½œç”¨åŸŸæ’æ§½"><a href="#äº”ã€ä½œç”¨åŸŸæ’æ§½" class="headerlink" title="äº”ã€ä½œç”¨åŸŸæ’æ§½"></a>äº”ã€ä½œç”¨åŸŸæ’æ§½</h1><h2 id="ä»‹ç»-2"><a href="#ä»‹ç»-2" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p>ä½œç”¨åŸŸæ’æ§½å¯ä»¥è®©çˆ¶çº§å¤–å±‚ç»„ä»¶èƒ½å¤Ÿè®¿é—®å­ç»„ä»¶çš„æ•°æ®ï¼Œå­ç»„ä»¶å‘å°†æ•°æ®æä¾›ç»™æ’æ§½ï¼Œç»„ä»¶ props ä¼ é€’æ•°æ®çš„æ–¹å¼ï¼Œå­ç»„ä»¶å‘æ’æ§½ä¼ é€’ä¸€ä¸ª<code>attributes</code>ï¼Œçˆ¶ç»„ä»¶é€šè¿‡<code>v-slot</code>å¸¦çš„å€¼ï¼ˆä»»æ„å‘½åï¼‰æ¥è·å–å­ç»„ä»¶çš„æ•°æ®ã€‚</p><h2 id="ä½¿ç”¨åœºæ™¯-2"><a href="#ä½¿ç”¨åœºæ™¯-2" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h2><h3 id="ä¸€-ã€é»˜è®¤æ’æ§½"><a href="#ä¸€-ã€é»˜è®¤æ’æ§½" class="headerlink" title="(ä¸€)ã€é»˜è®¤æ’æ§½"></a>(ä¸€)ã€é»˜è®¤æ’æ§½</h3><p><code>MyComponent.vue</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;n-el <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;flex flex-col justify-center items-center h-[80vh] w-full&quot;</span>&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;èºè›³ç²‰&quot;</span> <span class="hljs-attr">data</span>=<span class="hljs-string">&quot;10&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span></span><br>&lt;/n-el&gt;<br></code></pre></td></tr></table></figure><h4 id="å†™æ³•ä¸€ï¼š-v-slot-å†™åœ¨ç»„ä»¶ä¸Š"><a href="#å†™æ³•ä¸€ï¼š-v-slot-å†™åœ¨ç»„ä»¶ä¸Š" class="headerlink" title="å†™æ³•ä¸€ï¼š v-slot å†™åœ¨ç»„ä»¶ä¸Š"></a>å†™æ³•ä¸€ï¼š v-slot å†™åœ¨ç»„ä»¶ä¸Š</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;<span class="hljs-title class_">MyComponent</span> v-slot=<span class="hljs-string">&quot;res&quot;</span>&gt;<br>   <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">n-el</span>&gt;</span>è€æ¿ï¼šæ¥ &#123;&#123; res.data &#125;&#125; ä»½ &#123;&#123; res.content &#125;&#125; ~<span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br> &lt;/<span class="hljs-title class_">MyComponent</span>&gt;<br></code></pre></td></tr></table></figure><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/39430b742a864b94a35f3946a68d0a20~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p><p><code>æ³¨æ„ï¼š</code> <code>v-slot=&quot;res&quot;</code>Â  å¯ä»¥ç±»æ¯”è¿™é‡Œçš„å‡½æ•°ç­¾åï¼Œå’Œå‡½æ•°çš„å‚æ•°ç±»ä¼¼ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨ Â <code>v-slot</code>Â  ä¸­ä½¿ç”¨è§£æ„ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;<span class="hljs-title class_">MyComponent</span> v-slot=<span class="hljs-string">&quot;&#123; data, content &#125;&quot;</span>&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">n-el</span>&gt;</span></span><br><span class="language-xml">    è€æ¿ï¼šæ¥ &#123;&#123; data &#125;&#125; ä»½ &#123;&#123; content &#125;&#125; ~</span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br>&lt;/<span class="hljs-title class_">MyComponent</span>&gt;<br></code></pre></td></tr></table></figure><h4 id="å†™æ³•äºŒï¼š-v-slot-å†™åœ¨-template-ä¸Š"><a href="#å†™æ³•äºŒï¼š-v-slot-å†™åœ¨-template-ä¸Š" class="headerlink" title="å†™æ³•äºŒï¼š v-slot å†™åœ¨ template ä¸Š"></a>å†™æ³•äºŒï¼š v-slot å†™åœ¨ template ä¸Š</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;<span class="hljs-title class_">MyComponent</span>&gt;<br>   <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-slot:default</span>=<span class="hljs-string">&quot;res&quot;</span>&gt;</span></span><br><span class="language-xml">     <span class="hljs-tag">&lt;<span class="hljs-name">n-el</span>&gt;</span>è€æ¿ï¼šæ¥ &#123;&#123; res.data &#125;&#125; ä»½ &#123;&#123; res.content &#125;&#125; ~<span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><br>   <span class="hljs-comment">//æˆ–è€…</span><br>   <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">default</span>=<span class="hljs-string">&quot;res&quot;</span>&gt;</span></span><br><span class="language-xml">     <span class="hljs-tag">&lt;<span class="hljs-name">n-el</span>&gt;</span>è€æ¿ï¼šæ¥ &#123;&#123; res.data &#125;&#125; ä»½ &#123;&#123; res.content &#125;&#125; ~<span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><br> &lt;/<span class="hljs-title class_">MyComponent</span>&gt;<br></code></pre></td></tr></table></figure><h3 id="äºŒ-ã€å…·åæ’æ§½"><a href="#äºŒ-ã€å…·åæ’æ§½" class="headerlink" title="(äºŒ)ã€å…·åæ’æ§½"></a>(äºŒ)ã€å…·åæ’æ§½</h3><p>å…·åä½œç”¨åŸŸæ’æ§½çš„å·¥ä½œæ–¹å¼ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œæ’æ§½ props å¯ä»¥ä½œä¸º Â <code>v-slot</code>Â  æŒ‡ä»¤çš„å€¼è¢«è®¿é—®åˆ°ï¼š<code>v-slot:name=&quot;slotProps&quot;</code>ã€‚å½“ä½¿ç”¨ç¼©å†™æ—¶æ˜¯è¿™æ ·ï¼š</p><p><code>MyComponent.vue</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;n-el <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;flex flex-col justify-center items-center h-[80vh] w-full&quot;</span>&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;åŒ—äº¬çƒ¤é¸­&quot;</span> <span class="hljs-attr">data</span>=<span class="hljs-string">&quot;5&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;food1&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;é•¿æ²™è‡­è±†è…&quot;</span> <span class="hljs-attr">data</span>=<span class="hljs-string">&quot;15&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;food2&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span></span><br>&lt;/n-el&gt;<br></code></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;<span class="hljs-title class_">MyComponent</span>&gt;<br>   <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">food1</span>=<span class="hljs-string">&quot;res&quot;</span>&gt;</span></span><br><span class="language-xml">     <span class="hljs-tag">&lt;<span class="hljs-name">n-el</span>&gt;</span>è€æ¿ï¼šæ¥ &#123;&#123; res.data &#125;&#125; ä»½ &#123;&#123; res.content &#125;&#125; ~<span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br>   <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">food2</span>=<span class="hljs-string">&quot;res&quot;</span>&gt;</span></span><br><span class="language-xml">     <span class="hljs-tag">&lt;<span class="hljs-name">n-el</span>&gt;</span>è€æ¿ï¼šæ¥ &#123;&#123; res.data &#125;&#125; ä»½ &#123;&#123; res.content &#125;&#125; ~<span class="hljs-tag">&lt;/<span class="hljs-name">n-el</span>&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br> &lt;/<span class="hljs-title class_">MyComponent</span>&gt;<br></code></pre></td></tr></table></figure><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c6af0f22883646c2b657d4b75c78352b~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>]]></content>
    
    
    <categories>
      
      <category>vue3</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>vue-study</title>
    <link href="/vue-study/"/>
    <url>/vue-study/</url>
    
    <content type="html"><![CDATA[<h1 id="ä¸€ã€å…¨å±€-API"><a href="#ä¸€ã€å…¨å±€-API" class="headerlink" title="ä¸€ã€å…¨å±€ API"></a>ä¸€ã€å…¨å±€ API</h1><h2 id="ä¸€-ã€createApp"><a href="#ä¸€-ã€createApp" class="headerlink" title="(ä¸€)ã€createApp()"></a>(ä¸€)ã€createApp()</h2><p>åˆ›å»ºä¸€ä¸ªåº”ç”¨å®ä¾‹ã€‚</p><p>å†…è”æ ¹ç»„ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; createApp &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(&#123;<br>  <span class="hljs-comment">//.....</span><br>&#125;);<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ä»åˆ«å¤„å¯¼å…¥çš„ç»„ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; createApp &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.vue&quot;</span>;<br><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>);<br></code></pre></td></tr></table></figure><h2 id="äºŒ-ã€app-mount"><a href="#äºŒ-ã€app-mount" class="headerlink" title="(äºŒ)ã€app.mount()"></a>(äºŒ)ã€app.mount()</h2><p>å°†åº”ç”¨å®ä¾‹æŒ‚è½½åœ¨ä¸€ä¸ªå®¹å™¨å…ƒç´ ä¸­ã€‚</p><p>å‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªå®é™…çš„ DOM å…ƒç´ æˆ–è€…ä¸€ä¸ª CSS é€‰æ‹©å™¨</p><p>CSS é€‰æ‹©å™¨ä¸ºå‚æ•°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; createApp &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(<span class="hljs-comment">/* ... */</span>);<br>app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&quot;#app&quot;</span>);<br></code></pre></td></tr></table></figure><p>DOM å…ƒç´ ä¸ºå‚æ•°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">app.<span class="hljs-title function_">mount</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">firstChild</span>);<br></code></pre></td></tr></table></figure><h2 id="ä¸‰-ã€app-unmount"><a href="#ä¸‰-ã€app-unmount" class="headerlink" title="(ä¸‰)ã€app.unmount()"></a>(ä¸‰)ã€app.unmount()</h2><p>å¸è½½ä¸€ä¸ªå·²æŒ‚è½½çš„åº”ç”¨å®ä¾‹ã€‚</p><h2 id="å››-ã€app-provide"><a href="#å››-ã€app-provide" class="headerlink" title="(å››)ã€app.provide()"></a>(å››)ã€app.provide()</h2><p>æä¾›ä¸€ä¸ªå€¼ï¼Œå¯ä»¥ç»™åä»£çš„æ‰€æœ‰ç»„ä»¶ä½¿ç”¨</p><p>å‚æ•° 1ï¼šæ³¨å…¥çš„ key<br>å‚æ•° 2ï¼šæä¾›çš„å€¼</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; createApp &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(<span class="hljs-comment">/*...*/</span>);<br>app.<span class="hljs-title function_">provide</span>(<span class="hljs-string">&quot;message&quot;</span>, <span class="hljs-string">&quot;hello&quot;</span>);<br></code></pre></td></tr></table></figure><p>åä»£ç»„ä»¶ä½¿ç”¨</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; inject &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">inject</span>(<span class="hljs-string">&quot;message&quot;</span>)); <span class="hljs-comment">// &#x27;hello&#x27;</span><br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="äº”-ã€app-directive-è‡ªå®šä¹‰æŒ‡ä»¤"><a href="#äº”-ã€app-directive-è‡ªå®šä¹‰æŒ‡ä»¤" class="headerlink" title="(äº”)ã€app.directive è‡ªå®šä¹‰æŒ‡ä»¤"></a>(äº”)ã€app.directive è‡ªå®šä¹‰æŒ‡ä»¤</h2><p>å‚è€ƒæ–‡æ¡£ï¼š<a href="https://blog.csdn.net/weixin_52203618/article/details/127867548">https://blog.csdn.net/weixin_52203618/article/details/127867548</a></p><h2 id="å…­-ã€app-use-å®‰è£…ä¸€ä¸ªæ’ä»¶"><a href="#å…­-ã€app-use-å®‰è£…ä¸€ä¸ªæ’ä»¶" class="headerlink" title="(å…­)ã€app.use() å®‰è£…ä¸€ä¸ªæ’ä»¶"></a>(å…­)ã€app.use() å®‰è£…ä¸€ä¸ªæ’ä»¶</h2><ul><li>å‚æ•° 1ï¼šæ’ä»¶æœ¬èº«</li><li>å‚æ•° 2ï¼šä¼ é€’ç»™æ’ä»¶çš„é€‰é¡¹</li></ul><h2 id="ä¸ƒ-ã€app-mixin-æ··åˆ"><a href="#ä¸ƒ-ã€app-mixin-æ··åˆ" class="headerlink" title="(ä¸ƒ)ã€app.mixin()æ··åˆ"></a>(ä¸ƒ)ã€app.mixin()æ··åˆ</h2><p>åº”ç”¨ä¸€ä¸ªå…¨å±€ mixinã€‚ä¸€ä¸ªå…¨å±€çš„ mixin ä¼šä½œç”¨äºåº”ç”¨ä¸­çš„æ¯ä¸ªç»„ä»¶å®ä¾‹ã€‚</p><h2 id="ï¼ˆå…«ï¼‰ã€app-version"><a href="#ï¼ˆå…«ï¼‰ã€app-version" class="headerlink" title="ï¼ˆå…«ï¼‰ã€app.version"></a>ï¼ˆå…«ï¼‰ã€app.version</h2><p>å½“å‰åº”ç”¨æ‰€ä½¿ç”¨çš„ vue ç‰ˆæœ¬å·ã€‚</p><h2 id="ï¼ˆä¹ï¼‰ã€app-config-globalProperties"><a href="#ï¼ˆä¹ï¼‰ã€app-config-globalProperties" class="headerlink" title="ï¼ˆä¹ï¼‰ã€app.config.globalProperties"></a>ï¼ˆä¹ï¼‰ã€app.config.globalProperties</h2><p>ä¸€ä¸ªç”¨äºæ³¨å†Œèƒ½å¤Ÿè¢«åº”ç”¨å†…æ‰€æœ‰ç»„ä»¶å®ä¾‹è®¿é—®åˆ°çš„å…¨å±€å±æ€§çš„å¯¹è±¡ã€‚<br>ç”¨æ³•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">app.<span class="hljs-property">config</span>.<span class="hljs-property">globalProperties</span>.<span class="hljs-property">msg</span> = <span class="hljs-string">&quot;hello&quot;</span>;<br></code></pre></td></tr></table></figure><p>è¿™ä½¿å¾— msg åœ¨åº”ç”¨çš„ä»»æ„ç»„ä»¶æ¨¡æ¿ä¸Šéƒ½å¯ä»¥ä½¿ç”¨ï¼Œå¹¶ä¸”ä¹Ÿå¯ä»¥é€šè¿‡ä»»æ„ç»„ä»¶å®ä¾‹çš„ this è®¿é—®åˆ°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">msg</span>); <span class="hljs-comment">// &#x27;hello&#x27;</span><br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure><h1 id="äºŒã€é€šç”¨-API"><a href="#äºŒã€é€šç”¨-API" class="headerlink" title="äºŒã€é€šç”¨ API"></a>äºŒã€é€šç”¨ API</h1><h2 id="ä¸€-ã€version"><a href="#ä¸€-ã€version" class="headerlink" title="(ä¸€)ã€version"></a>(ä¸€)ã€version</h2><p>æš´éœ²å½“å‰æ‰€ä½¿ç”¨çš„ Vue ç‰ˆæœ¬ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; version &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(version);<br></code></pre></td></tr></table></figure><h2 id="äºŒ-ã€nextTick"><a href="#äºŒ-ã€nextTick" class="headerlink" title="(äºŒ)ã€nextTick()"></a>(äºŒ)ã€nextTick()</h2><p>ç­‰å¾…ä¸‹ä¸€æ¬¡ DOM æ›´æ–°åˆ·æ–°çš„å·¥å…·æ–¹æ³•ã€‚</p><p>å½“ä½ åœ¨ Vue ä¸­æ›´æ”¹å“åº”å¼çŠ¶æ€æ—¶ï¼Œæœ€å‘¨çš„ DOM æ›´æ–°å¹¶ä¸æ˜¯åŒæ­¥ç”Ÿæ•ˆçš„ï¼Œè€Œæ˜¯ç”± Vue å°†ä»–ä»¬ç¼“å­˜åœ¨ä¸€ä¸ªé˜Ÿåˆ—ä¸­ï¼Œç›´åˆ°ä¸‹ä¸€ä¸ªâ€tickâ€æ‰ä¸€èµ·æ‰§è¡Œã€‚è¿™æ ·æ˜¯ä¸ºäº†ç¡®ä¿æ¯ä¸ªç»„ä»¶æ— è®ºå‘ç”Ÿå¤šå°‘æ¬¡çŠ¶æ€æ”¹å˜ï¼Œéƒ½ä»…æ‰§è¡Œä¸€æ¬¡æ›´æ–°ã€‚</p><p><code>nextTick()</code>å¯ä»¥åœ¨çŠ¶æ€æ”¹å˜åç«‹å³ä½¿ç”¨ï¼Œä»¥ç­‰å¾… DOM æ›´æ–°å®Œæˆã€‚ä½ å¯ä»¥ä¼ é€’ä¸€ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œæˆ–è€…<code>await</code>è¿”å›çš„<code>Promise</code>ã€‚</p><h1 id="ä¸‰ã€ç»„åˆå¼-API"><a href="#ä¸‰ã€ç»„åˆå¼-API" class="headerlink" title="ä¸‰ã€ç»„åˆå¼ API"></a>ä¸‰ã€ç»„åˆå¼ API</h1><h2 id="ä¸€-ã€readonly"><a href="#ä¸€-ã€readonly" class="headerlink" title="(ä¸€)ã€readonly()"></a>(ä¸€)ã€readonly()</h2><p>è¯´æ˜ï¼šæ¥å—ä¸€ä¸ª<code>å¯¹è±¡</code>ï¼ˆä¸ç®¡æ˜¯å“åº”å¼çš„è¿˜æ˜¯æ™®é€šçš„ï¼‰æˆ–è€…æ˜¯ä¸€ä¸ª refï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªåªè¯»çš„åŸå€¼ã€‚<br>ç»†èŠ‚ï¼šå®ƒæ˜¯æ·±å±‚çš„ã€‚å³ä¸ç®¡åŸå€¼æ˜¯å¤šå°‘ä¸ªå­èŠ‚ç‚¹ï¼Œå­™èŠ‚ç‚¹ï¼Œéƒ½æ˜¯åªè¯»ã€‚<br>ç”¨é€”ï¼šä¿æŠ¤æŸäº›æ•°æ®ä¸è®©å®ƒæœ‰æ„å¤–çš„è¢«ä¿®æ”¹ã€‚</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>hexo | æ­å»ºä¸ªäººç½‘ç«™</title>
    <link href="/hexo-start/"/>
    <url>/hexo-start/</url>
    
    <content type="html"><![CDATA[<h1 id="ä¸€ã€å®‰è£…-hexo"><a href="#ä¸€ã€å®‰è£…-hexo" class="headerlink" title="ä¸€ã€å®‰è£… hexo"></a>ä¸€ã€å®‰è£… hexo</h1>]]></content>
    
    
    <categories>
      
      <category>hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
